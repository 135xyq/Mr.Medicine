{"version":3,"sources":["uni-app:///main.js","webpack:///D:/学习/课程学习/软件项目开发/MrMedicine/pages/index/index.vue?4c59","webpack:///D:/学习/课程学习/软件项目开发/MrMedicine/pages/index/index.vue?ce4e","webpack:///D:/学习/课程学习/软件项目开发/MrMedicine/pages/index/index.vue?3a2a","webpack:///D:/学习/课程学习/软件项目开发/MrMedicine/pages/index/index.vue?7a74","uni-app:///pages/index/index.vue","webpack:///D:/学习/课程学习/软件项目开发/MrMedicine/pages/index/index.vue?549e","webpack:///D:/学习/课程学习/软件项目开发/MrMedicine/pages/index/index.vue?fc52"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=57280228&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57280228\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=57280228&scoped=true&\"","var components\ntry {\n  components = {\n    uniCard: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-card/components/uni-card/uni-card\" */ \"@/uni_modules/uni-card/components/uni-card/uni-card.vue\"\n      )\n    },\n    uniDrawer: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-drawer/components/uni-drawer/uni-drawer\" */ \"@/uni_modules/uni-drawer/components/uni-drawer/uni-drawer.vue\"\n      )\n    },\n    RecordTemplate: function() {\n      return import(\n        /* webpackChunkName: \"components/RecordTemplate/RecordTemplate\" */ \"@/components/RecordTemplate/RecordTemplate.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<view class=\"current-record\">\r\n\t\t\t<view class=\"example-body\">\r\n\t\t\t\t<uni-card :is-shadow=true @click=\"showRecordDetailDrawer\" class=\"card-title\" title=\"今日吃药\">\r\n\t\t\t\t\t<view class=\"has-current-record\" v-if=\"currentRecord.length > 0\">\r\n\t\t\t\t\t\t<view class=\"word-btn-white\">药品种类：{{currentRecord[0].pearRecord.length}}种</view>\r\n\t\t\t\t\t\t<view class=\"other-record\">\r\n\t\t\t\t\t\t\t剩下的药品还能吃:12天\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"no-current-record\" v-if=\"currentRecord.length === 0\">\r\n\t\t\t\t\t\t暂无记录\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</uni-card>\r\n\t\t\t\t<uni-drawer ref=\"showDetails\" mode=\"right\" :width=\"350\">\r\n\t\t\t\t\t<view class=\"scroll-view\" v-if=\"currentRecord.length > 0\">\r\n\t\t\t\t\t\t<scroll-view class=\"scroll-view-box\" scroll-y=\"true\">\r\n\t\t\t\t\t\t\t<view class=\"show-draw-title\">\r\n\t\t\t\t\t\t\t\t<text>当前记录的详细信息</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"\" v-for=\"(item,index) in tempRecord[0].pearRecord\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<RecordCard @deleteOneRecord=\"onHandleDeleteOneRecord\" :parentData=\"item\"\r\n\t\t\t\t\t\t\t\t\t:ref='\"editRecord\"+index'></RecordCard>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"new-add-one\">\r\n\t\t\t\t\t\t\t\t<button @click=\"newAddOneRecord\" class=\"new-add-button\" type=\"primary\"\r\n\t\t\t\t\t\t\t\t\tsize=\"mini\">新增一个药品\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"buttons\">\r\n\t\t\t\t\t\t\t\t<button type=\"default\" size=\"mini\" class=\"button-cancel\"\r\n\t\t\t\t\t\t\t\t\t@click=\"onHandleCancel\">取消</button>\r\n\t\t\t\t\t\t\t\t<button type=\"primary\" size=\"mini\" class=\"button-confirm\"\r\n\t\t\t\t\t\t\t\t\t@click=\"onHandleConfirmModification\">确认</button>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</uni-drawer>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"new-record\">\r\n\t\t\t<button type=\"default\" size=\"mini\" @click=\"onHandleNewRecord\">新建一个记录</button>\r\n\t\t\t<!-- <RecordCard :parentData=\"{}\" @deleteOneRecord=\"onHandleDeleteOneRecord\"></RecordCard> -->\r\n\t\t</view>\r\n\t\t<view class=\"template\">\r\n\t\t\t<uni-card title=\"我的模板\">\r\n\t\t\t\t<view class=\"no-template-record\" v-if=\"templateRecord.length ===0\">\r\n\t\t\t\t\t暂无内容\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"has-template-record\" v-if=\"templateRecord.length > 0\">\r\n\t\t\t\t\t<view class=\"template-container\" v-for=\"item in templateRecord\" :key=\"item._id\">\r\n\t\t\t\t\t\t<RecordTemplate :data=\"item\" @applyTemplate=\"onHandleApplyTemplate\" @deleteTemplate = \"onHandleDeleteTemplate\"></RecordTemplate>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</uni-card>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport RecordCard from \"@/components/RecordCard.vue\";\r\n\timport RecordTemplate from \"@/components/RecordTemplate/RecordTemplate.vue\";\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tRecordCard,\r\n\t\t\tRecordTemplate\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcurrentRecord: {}, //当前正在吃的记录\r\n\t\t\t\ttempRecord: {},\r\n\t\t\t\ttemplateRecord:[],//模板记录\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 下拉获取信息\r\n\t\tasync onPullDownRefresh() {\r\n\t\t\tawait this.getCurrentRecord();\r\n\t\t\tawait this.getTemplateRecord();\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '刷新成功',\r\n\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t});\r\n\t\t\t}, 1000)\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tcurrentRecord: function(newData, oldData) {\r\n\t\t\t\tthis.tempRecord = JSON.parse(JSON.stringify(newData));\r\n\t\t\t\t// console.log(this.tempRecord[0].pearRecord === this.currentRecord[0].pearRecord)\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync created() {\r\n\t\t\t// console.log(this.$refs.test1.getRecordCardData())\r\n\t\t\tawait this.getCurrentRecord();\r\n\t\t\tawait this.getTemplateRecord();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 获取模板信息\r\n\t\t\tasync getTemplateRecord(){\r\n\t\t\t\tconst res = await uniCloud.callFunction({\r\n\t\t\t\t\tname:\"get_template_record\",\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\tuser_openid:this.$store.state.userInfo.userInfo.openid,\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tthis.templateRecord = res.result.data;\r\n\t\t\t},\r\n\t\t\t// 打开今日吃药的抽屉\r\n\t\t\tshowRecordDetailDrawer() {\r\n\t\t\t\tif (this.currentRecord.length) {\r\n\t\t\t\t\tthis.$refs.showDetails.open()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '暂无记录,请添加新的记录',\r\n\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 获取当前正在进行的吃药记录\r\n\t\t\tasync getCurrentRecord() {\r\n\t\t\t\t// console.log(this.$store.state.userInfo.userInfo.openid)\r\n\t\t\t\tconst res = await uniCloud.callFunction({\r\n\t\t\t\t\tname: 'get_currentRecord',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\topenid: this.$store.state.userInfo.userInfo.openid,\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthis.currentRecord = res.result.data;\r\n\t\t\t},\r\n\t\t\t// 取消或者结束预览\r\n\t\t\tonHandleCancel() {\r\n\t\t\t\tthis.$refs.showDetails.close();\r\n\t\t\t\tthis.tempRecord = JSON.parse(JSON.stringify(this.currentRecord));\r\n\t\t\t},\r\n\t\t\t// 确认修改信息\r\n\t\t\tasync onHandleConfirmModification() {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: \"确定要修改药品信息?\",\r\n\t\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t// 确认修改\r\n\t\t\t\t\t\t\tconst newData = [];\r\n\t\t\t\t\t\t\t// 将修改后的信息保存下来\r\n\t\t\t\t\t\t\tfor (let i = 0; i < this.tempRecord[0].pearRecord.length; i++) {\r\n\t\t\t\t\t\t\t\tconst temp = this.$refs['editRecord' + i][0]\r\n\t\t\t\t\t\t\t\t\t.getRecordCardData(); //获取每一个RecordCard的数据\r\n\t\t\t\t\t\t\t\t// console.log(temp)\r\n\t\t\t\t\t\t\t\tif (temp.drugName === '') {\r\n\t\t\t\t\t\t\t\t\t// 药名为空\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '请输入药品名称',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (temp.drugPearCount.count === '') {\r\n\t\t\t\t\t\t\t\t\t// 每次剂量为空\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '请输入药品每次服用剂量',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (temp.drugAllCount.count === '') {\r\n\t\t\t\t\t\t\t\t\t// 药品总量为空\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '请输入药品总量',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tnewData.push(temp);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// 修改数据库\r\n\t\t\t\t\t\t\tconst res = await uniCloud.callFunction({\r\n\t\t\t\t\t\t\t\tname: \"edit_record\",\r\n\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\tid: this.currentRecord[0]._id,\r\n\t\t\t\t\t\t\t\t\trecordData: newData\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: res.result.msg,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthis.$refs.showDetails.close(); //关闭抽屉\r\n\t\t\t\t\t\t\tthis.getCurrentRecord(); //重新获取数据\r\n\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '取消修改',\r\n\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthis.$refs.showDetails.close();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t// 新增一个药品信息\r\n\t\t\tnewAddOneRecord() {\r\n\t\t\t\tconst temp = {\r\n\t\t\t\t\tpearId: '',\r\n\t\t\t\t\tdrugName: \"\",\r\n\t\t\t\t\tdrugAvatar: \"\",\r\n\t\t\t\t\tdrugPearCount: {\r\n\t\t\t\t\t\tcount: \"\",\r\n\t\t\t\t\t\tunit: \"\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdrugAllCount: {\r\n\t\t\t\t\t\tcount: \"\",\r\n\t\t\t\t\t\tunit: \"\",\r\n\t\t\t\t\t\tpearCount: \"\",\r\n\t\t\t\t\t\tpearUnit: \"\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdrugDayEatCount: \"\",\r\n\t\t\t\t}; //药品信息\r\n\r\n\t\t\t\tthis.tempRecord[0].pearRecord.push(temp);\r\n\t\t\t},\r\n\t\t\t// 新增一个记录\r\n\t\t\tonHandleNewRecord() {\r\n\t\t\t\t// console.log(1)\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"/pages/newRecord/newRecord\",\r\n\t\t\t\t\tanimationType: 'pop-in',\r\n\t\t\t\t\tanimationDuration: 200\r\n\t\t\t\t})\r\n\t\t\t\t// uni.go\r\n\t\t\t},\r\n\t\t\t// 删除一个药品\r\n\t\t\tasync onHandleDeleteOneRecord(id) {\r\n\t\t\t\t// const res = await \r\n\t\t\t\tthis.tempRecord[0].pearRecord = this.tempRecord[0].pearRecord.filter(item => {\r\n\t\t\t\t\treturn item.pearId !== id\r\n\t\t\t\t})\r\n\t\t\t\tconst res = await uniCloud.callFunction({\r\n\t\t\t\t\tname: \"delete_oneDrugRecord\",\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t_id: this.tempRecord[0]._id,\r\n\t\t\t\t\t\tnewData: this.tempRecord[0].pearRecord,\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: res.result.msg,\r\n\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t});\r\n\t\t\t\tthis.getCurrentRecord();\r\n\t\t\t},\r\n\t\t\t// 应用一个模板\r\n\t\t\tasync  onHandleApplyTemplate(id){\r\n\t\t\t\tconst res = await uniCloud.callFunction({\r\n\t\t\t\t\tname:\"set_apply_record\",\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\tuser_openid:this.$store.state.userInfo.userInfo.openid,\r\n\t\t\t\t\t\tnewid:id\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle:res.result.mag,\r\n\t\t\t\t});\r\n\t\t\t\t// 重新获取数据\r\n\t\t\t\tawait this.getCurrentRecord();\r\n\t\t\t\tawait this.getTemplateRecord();\r\n\t\t\t},\r\n\t\t\t// 删除一个模板\r\n\t\t\tasync onHandleDeleteTemplate(id){\r\n\t\t\t\tconst res = await uniCloud.callFunction({\r\n\t\t\t\t\tname:\"delete_record\",\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle:res.result.msg,\r\n\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t})\r\n\t\t\t\t// 重新获取数据\r\n\t\t\t\tawait this.getCurrentRecord();\r\n\t\t\t\tawait this.getTemplateRecord();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n\t@import \"./index.less\";\r\n</style>\n","import mod from \"-!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=57280228&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../app/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=57280228&scoped=true&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1654684104352\n      var cssReload = require(\"D:/app/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}